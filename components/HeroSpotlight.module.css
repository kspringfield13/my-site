.hero {
  position: relative;
  width: 100%;
  max-width: 100%;
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
  isolation: isolate;
  background: var(--c-bg);
  --name-shift-x: 0px;
  --name-shift-y: 0px;
  --link-shift-x: 0px;
  --link-shift-y: 0px;
  --social-shift-x: 0px;
  --social-shift-y: 0px;
  --flow-shift-x: 0px;
  --flow-shift-y: 0px;
  --flow-angle: 0deg;
  --flow-energy: 0.12;
  --plasma-opacity: 0;
  --top-layer-opacity: 0.93;
  --top-layer-opacity-hover: 0.75;
  --mode-origin-x: 58px;
  --mode-origin-y: calc(100% - 58px);
  --mode-direction: 1;
  --top-portrait: url("/hero-me.png");
  --reveal-portrait: url("/hero-ai.png");
  --plasma-mask: radial-gradient(
    circle 1px at -9999px -9999px,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0) 100%
  );
  /*
   * Portrait zoom control for both layers.
   * 1 = full-height fit, >1 zoom in, <1 zoom out.
   */
  --portrait-zoom: 0.99;
  --portrait-y: 1240%;
}

.agentMode {
  --top-portrait: url("/hero-ai.png");
  --reveal-portrait: url("/hero-me.png");
}

.modeTransitionActive {
  --top-layer-opacity-hover: 0.46;
}

.layer {
  position: absolute;
  inset: 0;
  background-position: center var(--portrait-y);
  background-repeat: no-repeat;
  background-size: auto calc(100% * var(--portrait-zoom));
}

.matrixLayer {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 130ms ease-out;
}

.matrixLayerActive {
  opacity: 0.82;
}

.matrixLayerSurge {
  opacity: 1;
}

.matrixLayerSurge .matrixCanvas {
  animation: matrix-overdrive 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

.matrixCanvas {
  width: 100%;
  height: 100%;
  display: block;
  opacity: 0.82;
  filter: saturate(1.08);
}

.gridOverlay {
  position: absolute;
  inset: -6%;
  z-index: 1;
  pointer-events: none;
  mix-blend-mode: screen;
  background-image:
    radial-gradient(
      64% 62% at 34% 30%,
      color-mix(in srgb, var(--c-accent-700) 13%, transparent) 0%,
      transparent 72%
    ),
    radial-gradient(
      58% 56% at 72% 67%,
      color-mix(in srgb, var(--c-text) 12%, transparent) 0%,
      transparent 74%
    ),
    conic-gradient(
      from var(--flow-angle) at 52% 50%,
      color-mix(in srgb, var(--c-accent-700) 8%, transparent) 0deg,
      transparent 36deg,
      color-mix(in srgb, var(--c-text) 7%, transparent) 88deg,
      transparent 142deg,
      color-mix(in srgb, var(--c-accent-700) 8%, transparent) 204deg,
      transparent 270deg,
      color-mix(in srgb, var(--c-text) 7%, transparent) 334deg,
      color-mix(in srgb, var(--c-accent-700) 8%, transparent) 360deg
    );
  opacity: calc(var(--flow-energy) * 0.14);
  filter: blur(26px) saturate(1.08);
  transform: translate3d(var(--flow-shift-x), var(--flow-shift-y), 0) scale(1.07);
  transition:
    transform 320ms cubic-bezier(0.22, 1, 0.36, 1),
    opacity 260ms ease,
    filter 260ms ease;
  animation: flow-breathe 15s ease-in-out infinite alternate;
}

.gridOverlaySurge {
  opacity: calc(0.14 + var(--flow-energy) * 0.42);
  filter: blur(14px) saturate(1.62);
  animation:
    flow-breathe 15s ease-in-out infinite alternate,
    grid-overdrive 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

.gridOverlay::before {
  content: "";
  position: absolute;
  inset: -8%;
  background-image:
    radial-gradient(
      54% 48% at 50% 44%,
      color-mix(in srgb, var(--c-link-hover) 10%, transparent) 0%,
      transparent 68%
    ),
    radial-gradient(
      42% 56% at 50% 58%,
      color-mix(in srgb, var(--c-accent-700) 8%, transparent) 0%,
      transparent 72%
    );
  opacity: calc(var(--flow-energy) * 0.09);
  transform: translate3d(calc(var(--flow-shift-x) * -0.35), calc(var(--flow-shift-y) * -0.35), 0) scale(1.03);
  filter: blur(22px);
  animation: flow-drift 19s linear infinite;
}

.gridOverlaySurge::before {
  animation:
    flow-drift 19s linear infinite,
    grid-backwash 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

@keyframes flow-breathe {
  0% {
    transform: translate3d(var(--flow-shift-x), var(--flow-shift-y), 0) scale(1.04) rotate(-0.25deg);
  }
  100% {
    transform: translate3d(var(--flow-shift-x), var(--flow-shift-y), 0) scale(1.08) rotate(0.25deg);
  }
}

@keyframes flow-drift {
  0% {
    transform: translate3d(calc(var(--flow-shift-x) * -0.35), calc(var(--flow-shift-y) * -0.35), 0) scale(1.03);
  }
  50% {
    transform: translate3d(calc(var(--flow-shift-x) * -0.22), calc(var(--flow-shift-y) * -0.22), 0) scale(1.08);
  }
  100% {
    transform: translate3d(calc(var(--flow-shift-x) * -0.35), calc(var(--flow-shift-y) * -0.35), 0) scale(1.03);
  }
}

.topLayer {
  z-index: 2;
  background-image: var(--top-portrait);
  opacity: var(--top-layer-opacity);
  transition: opacity 140ms linear;
}

.topLayerReveal {
  opacity: var(--top-layer-opacity-hover);
}

.topLayerSurge {
  animation: top-layer-glitch 1420ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.plasmaRevealLayer {
  z-index: 3;
  background-image: var(--reveal-portrait);
  pointer-events: none;
  opacity: var(--plasma-opacity);
  mask-image: var(--plasma-mask);
  -webkit-mask-image: var(--plasma-mask);
  mask-repeat: no-repeat;
  -webkit-mask-repeat: no-repeat;
  mask-size: 100% 100%;
  -webkit-mask-size: 100% 100%;
  filter:
    saturate(1.12)
    brightness(1.04)
    drop-shadow(0 0 22px color-mix(in srgb, var(--c-accent-700) 18%, transparent));
  transition: opacity 140ms linear;
}

.plasmaRevealLayerActive {
  opacity: var(--plasma-opacity);
}

.plasmaRevealLayerSurge {
  animation: plasma-overdrive 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

.modeTransitionLayer {
  position: absolute;
  inset: -18%;
  z-index: 4;
  pointer-events: none;
  opacity: 0;
  transform-origin: var(--mode-origin-x) var(--mode-origin-y);
}

.modeTransitionLayer::before,
.modeTransitionLayer::after {
  content: "";
  position: absolute;
  inset: 0;
}

.modeTransitionLayer::before {
  background-image:
    radial-gradient(
      circle at var(--mode-origin-x) var(--mode-origin-y),
      color-mix(in srgb, var(--c-text) 95%, transparent) 0%,
      color-mix(in srgb, var(--c-accent-700) 90%, transparent) 10%,
      color-mix(in srgb, var(--c-accent-700) 44%, transparent) 20%,
      transparent 32%
    ),
    conic-gradient(
      from calc(180deg + 20deg * var(--mode-direction)) at var(--mode-origin-x) var(--mode-origin-y),
      transparent 0deg,
      color-mix(in srgb, var(--c-accent-700) 58%, transparent) 46deg,
      transparent 94deg,
      color-mix(in srgb, var(--c-text) 66%, transparent) 150deg,
      transparent 214deg,
      color-mix(in srgb, var(--c-accent-700) 62%, transparent) 292deg,
      transparent 360deg
    );
  mix-blend-mode: screen;
  opacity: 0;
  transform-origin: var(--mode-origin-x) var(--mode-origin-y);
}

.modeTransitionLayer::after {
  background-image:
    linear-gradient(
      calc(106deg + 9deg * var(--mode-direction)),
      transparent 8%,
      color-mix(in srgb, var(--c-text) 64%, transparent) 34%,
      color-mix(in srgb, var(--c-accent-700) 82%, transparent) 46%,
      transparent 74%
    ),
    repeating-linear-gradient(
      180deg,
      color-mix(in srgb, var(--c-text) 16%, transparent) 0px 1px,
      transparent 1px 3px
    ),
    repeating-linear-gradient(
      calc(90deg + 5deg * var(--mode-direction)),
      transparent 0px 15px,
      color-mix(in srgb, var(--c-accent-700) 26%, transparent) 15px 16px
    );
  mix-blend-mode: screen;
  opacity: 0;
}

.modeTransitionLayerActive {
  opacity: 1;
}

.modeTransitionLayerActive::before {
  animation: mode-ring-blast 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

.modeTransitionLayerActive::after {
  animation: mode-scan-sweep 1420ms cubic-bezier(0.19, 1, 0.22, 1) both;
}

.modeTransitionToAgent {
  --mode-direction: 1;
}

.modeTransitionToKyle {
  --mode-direction: -1;
}

.uiLayer {
  position: absolute;
  inset: 0;
  z-index: 5;
  pointer-events: none;
}

.nameBlock,
.innovatorAnchor,
.socialRow,
.scrollCue {
  pointer-events: auto;
  color: var(--c-text-muted);
  transition: color 300ms ease, text-shadow 300ms ease, filter 260ms ease;
}

.scrollCue {
  position: absolute;
  left: 50%;
  bottom: clamp(24px, 4vw, 40px);
  transform: translateX(-50%);
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.2rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: clamp(0.72rem, 0.95vw, 0.8rem);
  font-weight: 500;
  text-shadow: 0 3px 18px color-mix(in srgb, var(--c-bg) 58%, transparent);
  animation: scroll-cue-float 2.2s ease-in-out infinite;
}

.scrollCueLabel {
  opacity: 0.95;
}

.scrollCueArrow {
  font-size: clamp(1rem, 1.2vw, 1.2rem);
  line-height: 1;
}

.nameBlock {
  position: absolute;
  top: clamp(20px, 3vw, 32px);
  left: clamp(20px, 3vw, 32px);
  transform: translate3d(var(--name-shift-x), var(--name-shift-y), 0);
  line-height: 0.88;
  letter-spacing: -0.01em;
  text-transform: none;
}

.nameLine {
  display: block;
  font-size: clamp(2rem, 5.5vw, 4.9rem);
  font-weight: 600;
}

.innovatorAnchor {
  position: absolute;
  top: clamp(20px, 3vw, 32px);
  right: clamp(20px, 3vw, 32px);
  transform: translate3d(var(--link-shift-x), var(--link-shift-y), 0);
  text-decoration: none;
  font-size: clamp(0.9rem, 1.25vw, 1rem);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-weight: 500;
}

.innovatorLink {
  color: inherit;
  text-decoration: none;
}

.innovatorAnchor:hover {
  opacity: 1;
  color: var(--c-accent-700);
  text-shadow: 0 0 24px color-mix(in srgb, var(--c-accent-700) 36%, transparent);
}

.socialRow {
  position: absolute;
  right: clamp(20px, 3vw, 32px);
  bottom: clamp(20px, 3vw, 32px);
  transform: translate3d(var(--social-shift-x), var(--social-shift-y), 0);
  display: flex;
  align-items: center;
  gap: clamp(14px, 1.4vw, 18px);
}

.profileToggle {
  position: absolute;
  left: clamp(20px, 3vw, 32px);
  bottom: clamp(20px, 3vw, 32px);
  transform: translate3d(var(--social-shift-x), var(--social-shift-y), 0);
  pointer-events: auto;
  appearance: none;
  cursor: pointer;
}

.socialIconLink,
.profileToggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: clamp(30px, 2.8vw, 38px);
  height: clamp(30px, 2.8vw, 38px);
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--c-accent-700) 28%, transparent);
  background: color-mix(in srgb, var(--c-accent-900) 22%, transparent);
  backdrop-filter: blur(1.5px);
  color: inherit;
  text-decoration: none;
  transition:
    color 300ms ease,
    opacity 220ms ease,
    border-color 220ms ease,
    background-color 220ms ease,
    box-shadow 220ms ease,
    transform 220ms ease;
}

.socialIconLink:hover {
  opacity: 1;
  color: var(--c-accent-700);
  border-color: color-mix(in srgb, var(--c-accent-700) 72%, transparent);
  background: color-mix(in srgb, var(--c-accent-700) 16%, transparent);
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--c-accent-700) 36%, transparent);
  transform: translateY(-1px);
}

.profileToggle:hover {
  opacity: 1;
  color: var(--c-accent-700);
  border-color: color-mix(in srgb, var(--c-accent-700) 72%, transparent);
  background: color-mix(in srgb, var(--c-accent-700) 16%, transparent);
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--c-accent-700) 36%, transparent);
  transform: translate3d(var(--social-shift-x), var(--social-shift-y), 0) translateY(-1px);
}

.profileToggleActive {
  color: var(--c-accent-700);
  border-color: color-mix(in srgb, var(--c-accent-700) 72%, transparent);
  background: color-mix(in srgb, var(--c-accent-700) 16%, transparent);
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--c-accent-700) 36%, transparent);
}

.socialIcon {
  width: clamp(18px, 1.9vw, 22px);
  height: clamp(18px, 1.9vw, 22px);
  fill: currentColor;
  transition: fill 300ms ease;
}

.toneDark {
  color: color-mix(in srgb, var(--c-link-hover) 88%, var(--c-text));
  text-shadow: 0 3px 22px color-mix(in srgb, var(--c-bg) 56%, transparent);
}

.toneLight {
  color: color-mix(in srgb, var(--c-accent-800) 78%, var(--c-text-muted));
  text-shadow: 0 1px 10px color-mix(in srgb, var(--c-text) 32%, transparent);
}

.nameBlock:hover {
  color: var(--c-accent-700);
  filter: drop-shadow(0 0 18px color-mix(in srgb, var(--c-accent-700) 34%, transparent));
}

.srOnly {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

@media (max-width: 768px) {
  .hero {
    --portrait-zoom: 0.82;
    --portrait-y: 100%;
  }

  .gridOverlay {
    opacity: 0.06;
    filter: blur(20px) saturate(1.02);
  }

  .plasmaRevealLayer {
    opacity: 0 !important;
    display: none;
  }

  .modeTransitionLayer {
    inset: -10%;
  }

  .nameLine {
    font-size: clamp(1.75rem, 12vw, 3.35rem);
  }

  .scrollCue {
    bottom: clamp(18px, 8vw, 30px);
    letter-spacing: 0.1em;
  }
}

@media (prefers-reduced-motion: reduce) {
  .gridOverlay,
  .gridOverlay::before,
  .nameBlock,
  .innovatorAnchor,
  .socialRow,
  .plasmaRevealLayer {
    transition: none !important;
    animation: none !important;
  }

  .modeTransitionLayer,
  .modeTransitionLayer::before,
  .modeTransitionLayer::after,
  .scrollCue,
  .matrixLayerSurge .matrixCanvas,
  .gridOverlaySurge,
  .gridOverlaySurge::before,
  .topLayerSurge,
  .plasmaRevealLayerSurge {
    transition: none !important;
    animation: none !important;
  }
}

@keyframes scroll-cue-float {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-8px);
  }
}

@keyframes mode-ring-blast {
  0% {
    opacity: 0.94;
    transform: scale(0.08) rotate(calc(-8deg * var(--mode-direction)));
    filter: blur(0px) saturate(1.86);
  }
  36% {
    opacity: 0.88;
    transform: scale(1.18) rotate(calc(6deg * var(--mode-direction)));
    filter: blur(2px) saturate(1.52);
  }
  100% {
    opacity: 0;
    transform: scale(2.62) rotate(calc(18deg * var(--mode-direction)));
    filter: blur(11px) saturate(1.04);
  }
}

@keyframes mode-scan-sweep {
  0% {
    opacity: 0;
    transform: translate3d(calc(var(--mode-direction) * -24%), 0, 0)
      skewX(calc(var(--mode-direction) * -9deg));
    filter: blur(2px) saturate(1.56);
  }
  20% {
    opacity: 0.78;
    transform: translate3d(calc(var(--mode-direction) * -6%), 0, 0)
      skewX(calc(var(--mode-direction) * -4deg));
    filter: blur(1px) saturate(1.34);
  }
  52% {
    opacity: 0.52;
    transform: translate3d(calc(var(--mode-direction) * 10%), 0, 0)
      skewX(calc(var(--mode-direction) * 2deg));
    filter: blur(0px) saturate(1.24);
  }
  100% {
    opacity: 0;
    transform: translate3d(calc(var(--mode-direction) * 25%), 0, 0)
      skewX(calc(var(--mode-direction) * 6deg));
    filter: blur(0px) saturate(1.08);
  }
}

@keyframes matrix-overdrive {
  0% {
    opacity: 0.9;
    filter: saturate(1.2) brightness(1.04);
  }
  14% {
    opacity: 1;
    filter: saturate(1.8) brightness(1.34);
  }
  36% {
    opacity: 0.94;
    filter: saturate(1.38) brightness(1.18);
  }
  100% {
    opacity: 0.82;
    filter: saturate(1.1) brightness(1);
  }
}

@keyframes grid-overdrive {
  0% {
    opacity: calc(0.14 + var(--flow-energy) * 0.24);
    filter: blur(16px) saturate(1.3);
  }
  24% {
    opacity: calc(0.32 + var(--flow-energy) * 0.52);
    filter: blur(8px) saturate(1.86);
  }
  58% {
    opacity: calc(0.24 + var(--flow-energy) * 0.38);
    filter: blur(12px) saturate(1.5);
  }
  100% {
    opacity: calc(0.08 + var(--flow-energy) * 0.16);
    filter: blur(24px) saturate(1.12);
  }
}

@keyframes grid-backwash {
  0% {
    opacity: calc(var(--flow-energy) * 0.16);
    filter: blur(15px) saturate(1.3);
  }
  38% {
    opacity: calc(0.22 + var(--flow-energy) * 0.34);
    filter: blur(9px) saturate(1.62);
  }
  100% {
    opacity: calc(var(--flow-energy) * 0.08);
    filter: blur(22px) saturate(1.06);
  }
}

@keyframes top-layer-glitch {
  0% {
    filter: saturate(1) brightness(1);
    transform: translate3d(0, 0, 0);
  }
  16% {
    filter: saturate(1.28) brightness(1.14);
    transform: translate3d(calc(var(--mode-direction) * -3px), 2px, 0);
  }
  24% {
    filter: saturate(1.42) brightness(1.24);
    transform: translate3d(calc(var(--mode-direction) * 4px), -2px, 0);
  }
  38% {
    filter: saturate(1.18) brightness(1.14);
    transform: translate3d(calc(var(--mode-direction) * -2px), 0, 0);
  }
  54% {
    filter: saturate(1.12) brightness(1.08);
    transform: translate3d(calc(var(--mode-direction) * 1px), -1px, 0);
  }
  100% {
    filter: saturate(1) brightness(1);
    transform: translate3d(0, 0, 0);
  }
}

@keyframes plasma-overdrive {
  0% {
    filter:
      saturate(1.38)
      brightness(1.12)
      drop-shadow(0 0 30px color-mix(in srgb, var(--c-accent-700) 34%, transparent));
  }
  30% {
    filter:
      saturate(1.82)
      brightness(1.34)
      drop-shadow(0 0 62px color-mix(in srgb, var(--c-text) 46%, transparent));
  }
  58% {
    filter:
      saturate(1.42)
      brightness(1.18)
      drop-shadow(0 0 38px color-mix(in srgb, var(--c-accent-700) 34%, transparent));
  }
  100% {
    filter:
      saturate(1.12)
      brightness(1.04)
      drop-shadow(0 0 22px color-mix(in srgb, var(--c-accent-700) 18%, transparent));
  }
}
